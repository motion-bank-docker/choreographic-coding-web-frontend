<template lang="pug">
  div.drawer
    div.drawerBottom(v-on:click='openDrawer({title: titleDown, upDown: "down"}, $event)'
                      :class="isActive(titleDown)")
      h3 {{titleDown}}
    div.drawerTop(v-on:click='openDrawer({title: titleUp, upDown: "up"}, $event)'
                      :class="isActive(titleUp)")
      h3 {{titleUp}}
</template>

<script>
export default {
  name: 'drawerHandle',
  props: {
    titleUp: String,
    titleDown: String,
    position: String
  },
  computed: {
  },
  methods: {
    isActive: function (title) {
      let active = this.$store.getters['drawer/g_active']
      return {
        drawerActive: title === active
      }
    },
    openDrawer: function ({title, upDown}, event) {
      this.$store.commit('drawer/openBothDrawer', {
        position: this.position,
        title,
        upDown
      })
    }
  }
}
</script>

<style scoped lang="stylus">
  .drawer
    display flex
    background #e7e7e7
    justify-content space-between
    outline black 2px solid
    z-index 100
  .drawerBottom, .drawerTop
    flex 1
    outline black 1px solid
  .drawerTop
    text-align right
  .drawer h3
    font-size calc(10px + 1.5vw)
    margin 1rem 0.6rem
  .drawerActive
    text-shadow yellow 2px 0px 5px
  @media (max-width: 800px)
    .drawerBottom, .drawerTop
      text-align center
    .drawer h3
      font-size calc(10px + 1.3vw)
      margin 1rem 0.4rem
  @media (max-height: 500px)
    .drawer h3
      font-size calc(10px + 1vw)
      margin 0.5rem 0.4rem
  @media (max-height: 350px)
    .drawer
      height 100%
</style>
